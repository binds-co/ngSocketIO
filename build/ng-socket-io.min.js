!function(){"use strict";angular.module("socket-io",[]).provider("socket",function(){var a;this.connect=function(b){a=b},this.$get=["$rootScope","io","$log","$window",function(b,c,d,e){angular.isUndefined(a)&&(d.warn("Socket-IO: url for connection not set. Using default: "+e.location.host),a="");var f=c.connect(a),g={},h={},i=function(a,b){var c=g[a],d=l(b);return c||(c=g[a]=[]),c.push({callback:b,wrapper:d}),d},j=function(a,b){var c,d=g[a];if(d)for(var e=d.length-1;e>=0;e--)if(d[e].callback===b){c=d[e].wrapper,d.slice(e,1);break}return c},k=function(a){delete g[a]},l=function(a){var c=angular.noop;return a&&(c=function(){var c=arguments;b.$apply(function(){a.apply(f,c)})}),c},m=function(a,b){return{bindTo:function(c){null!=c&&c.$on("$destroy",function(){h.removeListener(a,b)})}}};return h={on:function(a,b){return f.on(a,i(a,b)),m(a,b)},once:function(a,b){return f.once(a,i(a,b)),m(a,b)},removeListener:function(a,b){f.removeListener(a,j(a,b))},removeAllListeners:function(a){f.removeAllListeners(a),k(a)},emit:function(a,b,c){c?f.emit(a,b,l(c)):f.emit(a,b)}}}]}).factory("io",function(){return io})}();